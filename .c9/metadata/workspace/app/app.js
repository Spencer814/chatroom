{"filter":false,"title":"app.js","tooltip":"/app/app.js","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["var express = require('express'),","  path = require('path'),","  cookieParser = require('cookie-parser'),","  bodyParser = require('body-parser');","","var routes = require('./routes');","","var app = express();","","// view engine setup","app.set('views', path.join(__dirname, 'views'));","app.set('view engine', 'ejs');","","app.use(bodyParser.json());","app.use(bodyParser.urlencoded());","app.use(cookieParser());","app.use(express.static(path.join(__dirname, 'public')));","","app.get('/', routes.index);","","app.set('port', process.env.PORT || 3000);","","var server = app.listen(app.get('port'), function() {","\t// log a message to console!","});","","module.exports = app;",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":24,"column":3},"action":"insert","lines":["//Load angular","var app = angular.module('scotch-chat', ['ngMaterial', 'ngAnimate', 'ngMdIcons', 'btford.socket-io']);","","//Set our server url","var serverBaseUrl = 'http://localhost:2015';","","//Services to interact with nodewebkit GUI and Window","app.factory('GUI', function () {","    //Return nw.gui","    return require('nw.gui');","});","app.factory('Window', function (GUI) {","    return GUI.Window.get();","});","","//Service to interact with the socket library","app.factory('socket', function (socketFactory) {","    var myIoSocket = io.connect(serverBaseUrl);","","    var socket = socketFactory({","        ioSocket: myIoSocket","    });","","    return socket;","});"]}],[{"start":{"row":1,"column":26},"end":{"row":1,"column":32},"action":"remove","lines":["scotch"],"id":3}],[{"start":{"row":1,"column":26},"end":{"row":1,"column":27},"action":"remove","lines":["-"],"id":4}],[{"start":{"row":1,"column":30},"end":{"row":1,"column":31},"action":"insert","lines":["r"],"id":5}],[{"start":{"row":1,"column":31},"end":{"row":1,"column":32},"action":"insert","lines":["o"],"id":6}],[{"start":{"row":1,"column":32},"end":{"row":1,"column":33},"action":"insert","lines":["o"],"id":7}],[{"start":{"row":1,"column":33},"end":{"row":1,"column":34},"action":"insert","lines":["m"],"id":8}],[{"start":{"row":24,"column":3},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":9}],[{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"insert","lines":["",""],"id":10}],[{"start":{"row":26,"column":0},"end":{"row":39,"column":3},"action":"insert","lines":["//ng-enter directive","app.directive('ngEnter', function () {","    return function (scope, element, attrs) {","        element.bind(\"keydown keypress\", function (event) {","            if (event.which === 13) {","                scope.$apply(function () {","                    scope.$eval(attrs.ngEnter);","                });","","                event.preventDefault();","            }","        });","    };","});"],"id":11}],[{"start":{"row":39,"column":3},"end":{"row":40,"column":0},"action":"insert","lines":["",""],"id":12}],[{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":13}],[{"start":{"row":41,"column":0},"end":{"row":52,"column":4},"action":"insert","lines":["//Our Controller ","app.controller('MainCtrl', function ($scope, Window, GUI, $mdDialog, socket, $http){","","  //Menu setup","","  //Modal setup","","  //listen for new message","","  //Notify server of the new message","","}); "],"id":14}],[{"start":{"row":52,"column":4},"end":{"row":53,"column":0},"action":"insert","lines":["",""],"id":15}],[{"start":{"row":53,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["",""],"id":16}],[{"start":{"row":54,"column":0},"end":{"row":74,"column":4},"action":"insert","lines":["//Global Scope","$scope.messages = [];","$scope.room     = \"\";","","//Build the window menu for our app using the GUI and Window service","var windowMenu = new GUI.Menu({","    type: 'menubar'","});","var roomsMenu = new GUI.Menu();","","windowMenu.append(new GUI.MenuItem({","    label: 'Rooms',","    submenu: roomsMenu","}));","","windowMenu.append(new GUI.MenuItem({","    label: 'Exit',","    click: function () {","        Window.close()","    }","}));"],"id":17}],[{"start":{"row":1,"column":26},"end":{"row":1,"column":33},"action":"insert","lines":["scotch-"],"id":18},{"start":{"row":1,"column":37},"end":{"row":1,"column":41},"action":"remove","lines":["room"]},{"start":{"row":24,"column":3},"end":{"row":74,"column":4},"action":"remove","lines":["","","//ng-enter directive","app.directive('ngEnter', function () {","    return function (scope, element, attrs) {","        element.bind(\"keydown keypress\", function (event) {","            if (event.which === 13) {","                scope.$apply(function () {","                    scope.$eval(attrs.ngEnter);","                });","","                event.preventDefault();","            }","        });","    };","});","","//Our Controller ","app.controller('MainCtrl', function ($scope, Window, GUI, $mdDialog, socket, $http){","","  //Menu setup","","  //Modal setup","","  //listen for new message","","  //Notify server of the new message","","}); ","","//Global Scope","$scope.messages = [];","$scope.room     = \"\";","","//Build the window menu for our app using the GUI and Window service","var windowMenu = new GUI.Menu({","    type: 'menubar'","});","var roomsMenu = new GUI.Menu();","","windowMenu.append(new GUI.MenuItem({","    label: 'Rooms',","    submenu: roomsMenu","}));","","windowMenu.append(new GUI.MenuItem({","    label: 'Exit',","    click: function () {","        Window.close()","    }","}));"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":24,"column":3},"end":{"row":24,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1465013904000,"hash":"a71b6c3d3831b58868c107b79dfa0598d835ea53"}